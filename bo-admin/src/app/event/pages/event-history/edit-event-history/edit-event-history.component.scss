.edit-event-history-card{
  .edit-header-bar{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;
    .left{display:flex;align-items:center;gap:1rem;
      .back-button{width:40px;height:40px;border-radius:50%;border:1px solid #ddd;background:#fff;display:flex;justify-content:center;align-items:center;font-size:1.2rem;cursor:pointer;transition:.2s;i{color:#333;} &:hover{background:#f5f5f5;}}
      .event-title{font-size:1.5rem;font-weight:600;margin:0;color:#1d1d1f;}
    }
    .right{display:flex;gap:1rem;
      .cancel-button{background:#fff;color:#f57200;border:1px solid #f57200;padding:.5rem 1.2rem;border-radius:.5rem;font-size:.9rem;font-weight:500;cursor:pointer;transition:.2s;&:hover{background:#fff3e6;}}
      .save-button{
        background:#f57200;
        color:#fff;
        padding:.5rem 1.2rem;
        border-radius:.5rem;
        font-size:.9rem;
        font-weight:500;
        border:none;
        cursor:pointer;
        transition:.2s;
        &:hover{background:#e86500;}
        &:disabled{
          background:#d1d5db;
          color:#6b7280;
          cursor:not-allowed;
        }
        &:disabled:hover{
          background:#d1d5db;
        }
      }
    }
  }

  /* ───────── Grid 2 columnas ───────── */
  .event-grid{display:grid;grid-template-columns:1.2fr 2fr;gap:2rem;@media(max-width:1024px){grid-template-columns:1fr;}}

  /* ───────── Columna izquierda (multimedia) ───────── */
  .event-media-section{display:flex;flex-direction:column;gap:1rem;
    .media-alert{background:#fff3cd;color:#856404;border-left:4px solid #ffc107;padding:.75rem 1rem;border-radius:.5rem;font-size:.85rem;display:flex;gap:.75rem;align-items:flex-start;i{font-size:1.2rem;margin-top:.1rem;}p{margin:0;line-height:1.4;}strong{font-weight:600;}}
    .media-placeholder{width:100%;height:300px;aspect-ratio:4/3;background:#f7f7f7;border:2px dashed #ccc;border-radius:1rem;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#999;
      i{font-size:2.5rem;}
      img{width:100%;height:100%;object-fit:cover;border-radius:inherit;}
    }
    .media-placeholder.video-placeholder {
      position: relative;
      cursor: pointer;
      transition: box-shadow 0.2s, transform 0.2s;
    }
    .media-placeholder.video-placeholder img.clickable {
      display: block;
    }
    .media-placeholder.video-placeholder .overlay-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5rem;
      color: rgba(255,255,255,0.8);
      pointer-events: none;
    }
    .media-placeholder.video-placeholder:hover {
      box-shadow: 0 0 8px rgba(13,110,253,0.8);
      transform: scale(1.02);
    }
    .media-placeholder.video-placeholder.disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }
    .media-placeholder.video-placeholder.disabled:hover {
      box-shadow: none;
      transform: none;
    }
    .media-placeholder.video-placeholder .thumb-placeholder {
      font-size: 4rem;
      color: inherit;
    }
    .media-placeholder.video-placeholder .overlay-icon {
      font-size: 4rem;
    }
  }

  /* ───────── Columna derecha (formulario) ───────── */
  .event-form-section{display:flex;flex-direction:column;gap:1rem;
    .form-grid{display:flex;flex-direction:column;gap:1rem;}

    input.disabled-input,
    select.disabled-input {background: #f5f5f5;color: #6b7280;cursor: not-allowed;}

    .form-row{display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start;}
    .span-2{grid-column:span 2;}

    .form-group{flex:1;display:flex;flex-direction:column;position:relative;min-width:0;}
    .form-group.name-group{flex:2;}
    .form-group.checkbox-group{flex:1;align-self:center;}

    label{font-weight:500;margin-bottom:.4rem;}
    input,select,textarea{padding:.75rem;border:1px solid #ccc;border-radius:6px;font-size:.95rem;width:100%;box-sizing:border-box;}
    textarea{resize:none;min-height:100px;}

    .char-counter{position:absolute;bottom:.5rem;right:1rem;font-size:.75rem;color:#999;}

    .input-with-counter {
      position: relative;
      textarea {width: 100%;padding-right: 4.5rem;resize: vertical;}
      .char-counter {
        position: absolute;
        bottom: .5rem;
        right: 1rem;
        font-size: .75rem;
        color: #6b7280;
        pointer-events: none;
        &.warning { color: #d97706; }
        &.full    { color: #b91c1c; }
      }
    }

    .file-dropzone{width:100%;padding:1.5rem;border:2px dashed #ccc;border-radius:8px;text-align:center;color:#777;cursor:pointer;position:relative;}
    .file-drop-label{font-weight:500;}

    .media-alert.info-alert{background:#fff3cd;color:#856404;border-left:4px solid #ffc107;padding:.75rem 1rem;border-radius:.5rem;font-size:.8rem;display:flex;gap:.75rem;align-items:flex-start;i{font-size:1.1rem;margin-top:.1rem;}p{margin:0;line-height:1.4;}}

    .uploaded-files{
      display:flex;
      flex-direction:column;
      gap:1rem;
      margin-top:1rem;
      .file-card{
        display:flex;
        align-items:center;
        gap:.75rem;
        padding:1rem;
        background:#fff;
        border-radius:.5rem;
        box-shadow:0 1px 3px rgba(0,0,0,0.1);
        .thumb{
          width:3rem;
          height:3rem;
          object-fit:cover;
          border-radius:.375rem;
        }
        .file-info{
          display:flex;
          flex-direction:column;
          flex:1;
          .file-name{font-size:.875rem;font-weight:500;color:#333;margin:0;}
          .file-size{font-size:.75rem;color:#888;margin-top:.25rem;}
        }
        .delete-button{
          background:transparent;
          border:none;
          cursor:pointer;
          color:#aaa;
          transition:color .2s;
          &:hover{color:#555;}
        }
      }
    }

    .checkbox-row.pill{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #ccc;border-radius:6px;background:#fff;transition:.2s;
      input{appearance:none;width:1.2rem;height:1.2rem;border:2px solid #ccc;border-radius:50%;position:relative;cursor:pointer;transition:.2s;}
      input:checked{background:#009ef6;border-color:#009ef6;}
      input:checked::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.5rem;height:.5rem;border-radius:50%;background:#fff;}
      .checkbox-label{font-weight:500;color:#333;}
    }
    .form-group.checkbox-group.active .checkbox-row.pill{border:2px solid #009ef6;background:#e3f7ff;
      .checkbox-label{color:#009ef6;}
      input{border:2px solid #009ef6;background:#009ef6;}
    }
    .form-group.checkbox-group.disabled-input .checkbox-row.pill {
      opacity: 0.6;
      pointer-events: none;
    }
    .form-group.description-group .error,
    .form-group.video-group .error,
    .form-group.content-group .error {
      color: #dc3545;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
    .form-group.error-group {
      input, textarea, .file-dropzone {
        border-color: #dc3545;
      }
    }
  }
}
:host-context(.night-mode) {
  .edit-event-history-card {
    .event-title {
      color: #ffffff !important;
    }
    .form-group.content-group {
      > label {
        color: #ffffff !important;
      }
      .file-dropzone {
        background: #ffffff !important;
      }
    }
    // Ensure uploaded image cards stay white with dark text in night mode
    .uploaded-files {
      .file-card {
        background: #ffffff !important;
        color: #1d1d1f !important;
        .file-name { color: #333333 !important; }
        .file-size { color: #888888 !important; }
      }
    }
  }
}