<div class="car-assignment-card flex flex-column gap-6 p-6 bg-white w-100">
	<h4 class="fs-5 text-black fw-medium m-0">Asignación de Autos( MOCK )</h4>

	<div class="toolbar-card">
		<filter-generic
			[filters]="genericFilters"
			[values]="filterValues"
			[columnsDesktop]="4"
			[showClearButton]="true"
			[clearLabel]="'Limpiar'"
			[showActionButton]="false"
			[extraButtons]="extraButtons"
			(valuesChange)="onFiltersChange($event)"
			(extraAction)="onExtraAction($event)"
		></filter-generic>
<div *ngIf="!loading">
		<ng-container *ngIf="totalFiltered > 0; else emptyState">
			<app-table-generic
				[columns]="genericColumns"
				[keys]="genericKeys"
				[data]="pagedData"
				[columnWidths]="genericWidths"
				[freezeOverflow]="true"
				[actionsWidthPercentOverride]="10"
				[pageIndex]="pageIndex"
				[pageSize]="pageSize"
				[showView]="true"
				[showEdit]="true"
				[showDelete]="false"
				[showActions]="true"
				[editFalseIconClass]="'edit-icon-calendar'"
				[editTrueIconClass]="'edit-icon-calendar'"
				(view)="onViewRow($event)"
				(edit)="onEditRow($event)"
			></app-table-generic>

			<app-table-paginator
				[length]="totalFiltered"
				[pageSize]="pageSize"
				[pageIndex]="pageIndex"
				(pageChange)="onPageChange($event)"
				(pageSizeChange)="onPageSizeChange($event)"
			></app-table-paginator>
		</ng-container>

		<ng-template #emptyState>
			<app-empty-state message="No data"></app-empty-state>
		</ng-template>
	</div>

	<!-- Modal: Actualizar cronograma -->
	<app-car-schedule-update-modal
		*ngIf="showScheduleModal"
		[initialData]="scheduleInitialData"
		(save)="onScheduleSave($event)"
		(close)="onScheduleClose()"
	></app-car-schedule-update-modal>

	<!-- Modal: Confirmación Notify -->
	<app-modal-notify
		*ngIf="showConfirmNotify"
		[title]="confirmTitle"
		[message]="confirmMessage"
		[iconType]="confirmIcon"
		[oneButton]="false"
		[primaryText]="confirmPrimaryText"
		[secondaryText]="confirmSecondaryText"
		[closeOnConfirm]="confirmCloseOnConfirm"
		(confirmed)="onNotifyConfirmed()"
		(canceled)="onNotifyCanceled()"
		(closed)="onNotifyClose()"
	></app-modal-notify>
</div>
</div>
<ng-container *ngIf="loading">
  <app-logo-spinner
    [show]="true"
    [fullscreen]="true"
    [delay]="0"
    [minVisible]="800">
  </app-logo-spinner>
</ng-container>
