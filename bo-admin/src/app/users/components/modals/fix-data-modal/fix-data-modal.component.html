<app-modal [title]="title">
	<form class="d-flex flex-column gap-6" [formGroup]="form">
		<h3 class="text-gray-600 fs-4">Datos generales</h3>
		<div class="d-flex flex-row w-full gap-6">
			<app-input
				placeholder="Nombres"
				label="Nombres"
				controlName="fullname"
				[formGroup]="form"
				class="w-100"
			></app-input>
			<app-input
				placeholder="Apellidos"
				label="Apellidos"
				controlName="lastname"
				[formGroup]="form"
				class="w-100"
			></app-input>
		</div>
		<div class="d-flex flex-row w-full gap-6">
			<app-select
				placeholder="Selecciona un género"
				label="Género"
				[options]="genderOpt"
				controlName="gender"
				[formGroup]="form"
				class="w-100"
			></app-select>
			<app-select
				placeholder="Selecciona la nacionalidad"
				label="Nacionalidad"
				[options]="countryOpt"
				controlName="nationality"
				[formGroup]="form"
				class="w-100"
			></app-select>
		</div>
		<app-select
			placeholder="Estado civil"
			label="Estado civil"
			[options]="civilOpt"
			controlName="civilState"
			[formGroup]="form"
			class="w-100"
		></app-select>
		<app-input
			type="email"
			placeholder="Correo electrónico"
			label="Correo electrónico"
			controlName="email"
			[formGroup]="form"
			iconLeft="bi bi-envelope-at-fill"
		></app-input>
		<div class="d-flex flex-row w-full gap-6">
			<app-input
				placeholder="Celular"
				label="Celular"
				controlName="phone"
				[formGroup]="form"
				class="w-100"
			></app-input>
			<app-input-date
				label="Fecha de cumpleaños"
				controlName="bornDate"
				[formGroup]="form"
				class="w-100"
			></app-input-date>
		</div>
		<h3 class="text-gray-600 fs-4">Documento</h3>
		<div class="d-flex flex-row w-full gap-6">
			<app-select
				placeholder="Selecciona un tipo de documento"
				label="Tipo de documento"
				[options]="docTypeOpt"
				controlName="docType"
				[formGroup]="form"
				class="w-100"
			></app-select>

			<app-input
				placeholder="Número de documento"
				label="Número de documento"
				controlName="docNumber"
				[formGroup]="form"
				class="w-100"
			></app-input>
		</div>

		<h3 class="text-gray-600 fs-4">Dirección</h3>
		<!--
		<div class="d-flex flex-row w-full gap-6">
			<app-select
				placeholder="Selecciona el país"
				label="País"
				[options]="countryOpt"
				controlName="country"
				[formGroup]="form"
				class="w-100"
			></app-select>
			<app-input
				placeholder="Selecciona tu estado/distrito"
				label="Estado/Distrito"
				controlName="state"
				[formGroup]="form"
				class="w-100"
			></app-input>
		</div>
	-->
		<div class="d-flex flex-row w-full gap-6">
			<app-select
				placeholder="Selecciona el país de residencia"
				label="País-residencia"
				[options]="paisResidenciaOpt"
				controlName="paisResidencia"
				[formGroup]="form"
				class="w-100"
				(selectionChange)="onCountryResidenciaChange($event)"
			></app-select>
			<app-select
				placeholder="Selecciona el estado/departamento"
				label="Estado/Departamento"
				[options]="estadoDepartamentoOpt"
				controlName="estadoDepartamento"
				[formGroup]="form"
				class="w-100"
				(selectionChange)="onRegionChange($event)"
			></app-select>
		</div>
		<div class="d-flex flex-row w-full gap-6">
			<app-select
				placeholder="Selecciona la provincia"
				label="Provincia"
				[options]="provinciaOpt"
				controlName="provincia"
				[formGroup]="form"
				class="w-100"
				(selectionChange)="onProvinceChange($event)"
			></app-select>
			<app-select
				placeholder="Selecciona el distrito"
				label="Distrito"
				[options]="distritoOpt"
				controlName="distrito"
				[formGroup]="form"
				class="w-100"
				(selectionChange)="onDistrictChange($event)"
			></app-select>
		</div>
		<app-input
			placeholder="Tu dirección"
			label="Dirección"
			controlName="address"
			[formGroup]="form"
			class="w-100"
		></app-input>

		<div class="alert alert-warning d-flex align-items-center p-5" *ngIf="changes.length > 0">
			<i class="bi bi-pen fs-2hx text-warning me-4 mr-6"></i>

			<div class="d-flex flex-column">
				<h4 class="mb-1 text-warning">Haz hecho cambios en:</h4>
				<span class="fw-bold" *ngFor="let change of changes">> {{ change }}</span>
			</div>
		</div>

		<div class="d-flex flex-row w-full gap-6 justify-content-center">
			<button class="btn btn-light-primary" (click)="onSaveChanges()" [disabled]="this.form.invalid">Guardar tus cambios</button>
			<button class="btn btn-light-warning" (click)="onResetChanges()">Descartar cambios</button>
		</div>
	</form>
</app-modal>
