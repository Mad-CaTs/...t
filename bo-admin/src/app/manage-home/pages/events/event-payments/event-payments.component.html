<div class="d-flex flex-column w-100 gap-6" [formGroup]="form" (submit)="onSearch()">
	<!--List | Filter-->
	<h4 class="fs-5 text-black fw-medium m-0">Pago de eventos</h4>
	<div class="w-100 d-flex gap-5">
		<app-input
			class="w-100"
			label="Ingrese campo de búsqueda:"
			placeholder="Buscar Por"
			name="search"
			type="search"
			controlName="search"
			[formGroup]="form"
			iconLeft="bi bi-search"
		/>
		<div class="w-100 d-flex flex-column gap-3">
			<span class="text-black fs-6 fw-normal">Buscar como:</span>
			<div class="d-flex align-items-center w-100 gap-3 ps-3">
				<div class="d-flex gap-2 align-items-center">
					<input
						class="w-25px h-25px"
						type="radio"
						name="searhAs"
						formControlName="searchAs"
						id="searchAsOpt1"
						value="code"
					/>
					<label class="text-black fs-6 fw-normal" for="searchAsOpt1">Código promocional</label>
				</div>
				<div class="d-flex gap-2 align-items-center">
					<input
						class="w-25px h-25px"
						type="radio"
						name="searhAs"
						formControlName="searchAs"
						id="searchAsOpt1"
						value="partner"
					/>
					<label class="text-black fs-6 fw-normal" for="searchAsOpt1">Patrocinador</label>
				</div>
			</div>
		</div>
	</div>
	<div class="w-100 d-flex justify-content-end align-items-center gap-4">
		<button class="btn btn-secondary" type="submit">Buscar</button>
	</div>
	<!--Table-->
	<table-pagination textBtn="Cargar Archivo" (clickBtn)="onUploadFile()" class="w-100 d-block mt-4" />
	<!--Table | Table-->
	<app-common-table
		class="w-100 d-block mt-4"
		[headers]="table.headers"
		[checkedAll]="table.checkedAll"
		[headersMinWidth]="table.headersMinWidth"
		[noCheckboxes]="table.noCheckBoxes"
		[headersArrows]="table.headersArrows"
		(onCheckedAll)="table.changeCheckedAll($event)"
	>
		<tr class="w-100 d-flex py-2 align-items-center" *ngFor="let item of table.data">
			<td class="w-40px d-flex justify-content-center">
				<div class="form-check form-check-sm form-check-custom form-check-solid">
					<input
						class="form-check-input"
						type="checkbox"
						[checked]="table.getChecked(item.id)"
						(change)="table.changeCheckId($event, item.id)"
						data-kt-check="true"
						data-kt-check-target=".widget-9-check"
					/>
				</div>
			</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.description }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.type }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.numberInput }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.package }}</td>
			<td class="w-100 text-gray-900 text-center fs-6" style="word-break: break-all;">{{ item.username }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.partner || '-' }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">$ {{ item.amount.toFixed(2) }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.promotionalCode }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.paymentDate }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.payStatus }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">
				<img [src]="item.voucherUrl" width="52" alt="Flyer preview" />
			</td>
			<td class="w-100 d-flex flex-column align-items-center gap-2">
				<button
					class="btn btn-info py-2 px-4 fs-8"
					type="button"
					(click)="onPayAction('accept', item.id)"
				>
					Aceptar
				</button>
				<button
					class="btn btn-danger py-2 px-4 fs-8"
					type="button"
					(click)="onPayAction('reject', item.id)"
				>
					Rechazar
				</button>
			</td>
		</tr>
	</app-common-table>
</div>
