<div class="d-flex flex-column gap-6 p-6 bg-white w-100">
	<!--Title-->
	<h1 class="fs-1 text-black fw-medium m-0">Pagos Vencidos</h1>
	<!--Filters-->
	<form [formGroup]="form" class="d-flex w-100 flex-column gap-6">
		<h4 class="fs-5 text-black fw-normal m-0">Buscador</h4>
		<div class="d-flex flex-column flex-md-row gap-6">
			<app-input
				class="w-100"
				label="Ingrese campo de bÃºsqueda:"
				placeholder="Buscar por"
				type="search"
				[formGroup]="form"
				controlName="search"
			/>
			<app-select
				class="w-100"
				label="Tipo de deuda:"
				placeholder="Buscar por"
				[formGroup]="form"
				controlName="deudaType"
				[options]="deudaTypeOpt"
			/>
		</div>
		<div class="d-flex justify-content-end">
			<button class="btn btn-secondary" type="submit" [disabled]="form.invalid" (click)="onSubmit()">Buscar</button>
		</div>
	</form>
	<!--Table-->
	<app-common-table
		class="w-100"
		[headers]="table.headers"
		[checkedAll]="table.checkedAll"
		[headersMinWidth]="table.headersMinWidth"
		[headersMaxWidth]="table.headersMaxWidth"
		[noCheckboxes]="table.noCheckBoxes"
		[firstEmpty]="false"
		(onCheckedAll)="table.changeCheckedAll($event)"
	>
		<tr class="w-100 d-flex py-2 align-items-center" *ngFor="let item of table.data; index as i">
			<td class="text-gray-900 text-center fs-6" style="min-width: 70px; max-width: 70px">
				{{ i + 1 }}
			</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ item.fullname }}</td>
			<td class="w-100 px-2 text-gray-900 text-center fs-6">
				<app-select
					class="w-100"
					[formGroup]="subscriptionTable[i]"
					controlName="membership"
					placeholder="Seleccione"
					[options]="table.data[i].packageOpt"
					(change)="onMembershipChange($event, i)"
				/>
			</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ descriptions[i] || '-'}}</td>
			<td class="w-100 text-gray-900 text-center fs-6">{{ nextExpirations[i] || '-' }}</td>
			<td class="w-100 text-gray-900 text-center fs-6">
				{{ amounts[i] ? (amounts[i] | currency : 'USD' : 'symbol' : '1.2-2') : '-' }}
			</td>
			<td class="w-100 d-flex justify-content-center">
				<button class="btn btn-secondary py-2 px-4 d-flex gap-2 align-items-center">
					<i
						class="d-block w-25px text-white"
						[inlineSVG]="'/assets/media/icons/duotune/general/gen007.svg'"
					></i>
					<span>Notificar</span>
				</button>
			</td>
		</tr>
	</app-common-table>
</div>
