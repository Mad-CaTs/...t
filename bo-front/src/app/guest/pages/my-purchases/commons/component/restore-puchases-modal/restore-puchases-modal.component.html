<div class="modal-container">
    <div class="modal-content modal-fullscreen-sm-down">
        <div class="modal-header">
            <h5 class="text-black fw-medium family-font">Adjuntar evidencia:</h5>
        </div>
        <p style="font-size: 14px" class="text-muted family-font">
        </p>

        <form [formGroup]="formRestore" (ngSubmit)="submitRestore()">
            <div class="form-field pointer" (click)="fileEvidence.click()" (drop)="onEvidenceDrop($event)"
                (dragover)="allowEvidenceDrag($event)" [class.filled]="evidenceFile">
                <div class="evidence-dropzone">
                    <ng-container *ngIf="!evidenceFile; else evidenceTpl">
                        <span class="dz-instruction">Haz clic o arrastra la imagen (máx 1.2MB)</span>
                    </ng-container>
                    <ng-template #evidenceTpl>
                        <div class="evidence-item single position">
                            <button type="button" class="remove-evidence" (click)="removeEvidence()"
                                title="Eliminar imagen">
                                ✕
                            </button>
                            <img *ngIf="evidencePreview" [src]="evidencePreview" alt="Evidencia"
                                class="evidence-thumb" />
                        </div>
                    </ng-template>
                    <input #fileEvidence type="file" accept="image/png,image/jpeg,image/jpg,image/webp" hidden
                        (change)="onEvidenceSelected($event)" />
                </div>
                <div class="field-error" *ngIf="(touched.evidence || submitted) && getError('evidence')">
                    {{ getError('evidence') }}
                </div>
                <small class="evidence-help">Formatos: PNG, JPG, JPEG, WEBP. Tamaño máximo: 1.2 MB. Se requiere 1
                    imagen.</small>
            </div>

            <div class="d-flex justify-content-center gap-3 mt-4">
                <div class="d-flex w-100">
                    <button class="btn btn-outline-secondary size-btnn" type="button" (click)="onCancel()">
                        Cancelar
                    </button>
                </div>

                <div class="d-flex w-100">
                    <button class="btn btn-secondary size-btnn" type="submit" [disabled]="formRestore.pristine">
                        <!-- [disabled]="(isLoading || this.formUser.invalid || disabledUser)" (click)="editPersonalData()"> -->
                        <span>{{ btnText }}</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>