<div class="modal-backdrop" *ngIf="open" role="dialog" aria-modal="true">
  <div class="modal-box" role="document" aria-labelledby="modal-title">
    <header class="modal-header">
      <h2 id="modal-title" class="modal-title">{{ title }}</h2>
      <button type="button" class="close-btn" (click)="onClose()" aria-label="Cerrar">
        <i class="bi bi-x-lg"></i>
      </button>
    </header>

    <section class="section">
      <h4 class="section-title">Método de pagos</h4>

      <div class="methods-grid">
        <button
          type="button"
          class="method-card"
          *ngFor="let m of visibleMethods"
          [class.active]="m.key === selected"
          (click)="select(m)"
        >
          <ng-container *ngIf="m.logo; else noLogo">
            <img [src]="m.logo" [alt]="m.label" loading="lazy" decoding="async" draggable="false" />
          </ng-container>
          <ng-template #noLogo>
            <div class="fake-logo">{{ m.label }}</div>
          </ng-template>
        </button>
      </div>
    </section>

    <section class="section">
      <h4 class="section-title">Detalle del pago</h4>

      <ul class="summary-list">
        <li class="row">
          <span class="label">Tipo de cambio</span>
          <span class="value">{{ displayExchangeRate }}</span>
        </li>
        <li class="row">
          <span class="label">Monto {{ displayMethodName }} en dólares</span>
          <span class="value">$ {{ displayAmountUSD }}</span>
        </li>
        <li class="row">
          <span class="label">Monto {{ displayMethodName }} en soles</span>
          <span class="value">S/ {{ displayAmountPEN }}</span>
        </li>
      </ul>
    </section>
  </div>
</div>