<div class="line bg-black opacity-50"></div>
<form [formGroup]="prospectForm"
      class="d-flex flex-column gap-4 mt-3">
  <div class="row g-3">
    <div class="col-12">
      <div class="question-container">
        <label>Selección de tipo de invitado</label>
        <div class="radio-group d-flex gap-3">
          <label>
            <input type="radio"
                   formControlName="prospectType"
                   value="1" />
            Promocional
          </label>
          <label>
            <input type="radio"
                   formControlName="prospectType"
                   value="2" />
            Regular
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <app-input [form]="prospectForm"
                 controlName="name"
                 label="Nombres *"
                 type="text"
                 placeholder="Ingrese sus nombres"
                 buttons="true"
                 class="w-100"></app-input>
    </div>
    <div class="col-md-6">
      <app-input [form]="prospectForm"
                 controlName="lastName"
                 label="Apellidos *"
                 type="text"
                 placeholder="Ingrese sus apellidos"
                 buttons="true"
                 class="w-100"></app-input>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <app-select class="w-100"
                  label="Género"
                  placeholder="Género *"
                  [options]="optGenders"
                  [form]="prospectForm"
                  controlName="gender"></app-select>
    </div>
    <div class="col-md-6">
      <app-select class="w-100"
                  [showImg]="true"
                  label="Nacionalidad *"
                  placeholder="Selecciona la nacionalidad"
                  [form]="prospectForm"
                  [options]="nationalitiesList"
                  controlName="residenceCountryId"
                  (onChangeSelection)="getDocumentType($event)"></app-select>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <app-select class="w-100"
                  label="Estado Civil"
                  placeholder="Selecciona un estado civil"
                  [form]="prospectForm"
                  [options]="civilStateList"
                  controlName="civilState"></app-select>
    </div>
    <div class="col-md-6">
      <app-select class="w-100"
                  [showImg]="false"
                  label="Tipo de documento *"
                  placeholder="Seleccione su documento"
                  [form]="prospectForm"
                  [options]="documentTypes"
                  controlName="documentId"></app-select>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <app-input [form]="prospectForm"
                 controlName="email"
                 label="Correo electrónico *"
                 type="text"
                 placeholder="correo@email.com"
                 buttons="true"
                 class="w-100"></app-input>
    </div>
    <div class="col-md-6">
      <app-input [form]="prospectForm"
                 controlName="nroDocument"
                 label="Documento *"
                 type="text"
                 placeholder="00000000"
                 buttons="true"
                 class="w-100"></app-input>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <app-input [form]="prospectForm"
                 controlName="nroPhone"
                 label="Nro de celular *"
                 type="text"
                 placeholder="00000000"
                 buttons="true"
                 class="w-100"></app-input>
    </div>
    <div class="col-md-6">
      <app-select class="w-100"
                  label="Membresía"
                  placeholder="Seleccione una Membresía."
                  [options]="specialTypes"
                  [form]="prospectForm"
                  controlName="specialType"
                  [disabled]="prospectForm.get('prospectType')?.value !== '2'">
      </app-select>
    </div>
    
   <!--  <div class="col-md-6"
         *ngIf="prospectForm.get('prospectType')?.value === '2'">
      <app-select class="w-100"
                  label="Membresía"
                  placeholder="Seleccione una Membresía."
                  [options]="specialTypes"
                  [form]="prospectForm"
                  controlName="specialType"></app-select>
    </div> -->
  </div>

  <div class="row g-3">
    <div class="col-12">
      <app-date class="w-100"
                placeholder="DD/MM/YYYY"
                label="Fecha de nacimiento"
                [form]="prospectForm"
                controlName="birthdate"
                [config]="true"></app-date>
    </div>
  </div>

  <div class="d-flex justify-content-center gap-4 mt-3">
    <button class="btn btn-outline-secondary"
            type="button"
            (click)="this.ref.close()">Cancelar</button>
    <button class="btn btn-secondary button-width"
            type="button"
            [disabled]="isLoading || this.prospectForm.invalid"
            (click)="editProspect()">
      <span *ngIf="!isLoading">{{btnText}}</span>
      <div class="d-flex justify-content-center align-items-center"
           *ngIf="isLoading">
        <p-progressSpinner [style]="{ width: '1.5rem', height: '1rem' }"
                           strokeWidth="8"
                           fill="transparent"
                           animationDuration=".5s"></p-progressSpinner>
      </div>
    </button>
  </div>
</form>