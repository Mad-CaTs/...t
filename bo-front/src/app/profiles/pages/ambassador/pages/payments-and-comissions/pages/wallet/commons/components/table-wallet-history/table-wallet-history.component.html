<div class="d-flex flex-column gap-3">
	<div class="d-flex flex-row justify-content-between align-items-center">
    <app-pagination-ng-prime [rows]="rows" [totalRecords]="totalRecords" [rowsPerPageOptions]="[10, 20, 30]"
            [align]="align" (pageChange)="onPageChange($event)" (refresh)="onRefresh($event)">
        </app-pagination-ng-prime>
		<!-- <app-pagination
			[totalPages]="table.totalPages"
			[currentPage]="table.currentPage"
			(changePage)="tableService.changePage($event, id)"
		></app-pagination> -->
	</div>

	<app-table
		class="w-100"
		[headers]="['Fecha', 'Tipo de Operación', 'Descripción', 'Monto', 'Acciones']"
		[minWidthHeader]="[170, 280, 550, 100, 100]"
		[hasCheckbox]="false"
		[minWidth]="1500"
		[customRows]="true"
		[loading]="loading"
		[hasData]="table.data.length > 0"
	>
		<tr class="w-100 d-flex flex-row align-items-center" *ngFor="let d of table.data; let i = index">
			<th class="table__first__v1 d-flex flex-row justify-content-center align-items-center">
				<label class="form-check-label fw-normal cl-muted m-0 mt-1" [for]="'t-a-t-p-list-' + i">{{
					i + 1
				}}</label>
			</th>
			<td class="fs-6 py-4 px-4 text-center w-100" style="min-width: 170px">
				{{ d.dateInitial }}
			</td>
			<td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 280px">
				{{ d.returnedType }}
			</td>
			<td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 550px">
				{{ d.description }}
			</td>
			<td
				class="fs-6 py-4 px-4 w-100 text-center"
				style="min-width: 100px"
				[ngStyle]="{ color: d.amount < 0 ? '#dc3545' : 'inherit' }"
			>
				{{ formatAmount(d.amount) }}
			</td>
			<td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 100px">
				<button
					pButton
					icon="pi pi-eye"
					label="Ver más"
					class="btn btn-text text-primary d-flex align-items-center"
					(click)="onClickBtn(d.id)"
				></button>
			</td>
		</tr>
	</app-table>
	<!-- Emit transaction data to parent -->
	<ng-container *ngIf="table.data.length > 0">
		<app-event-emitter [data]="table.data" (dataChange)="emitTransactionData($event)"></app-event-emitter>
	</ng-container>
</div>
