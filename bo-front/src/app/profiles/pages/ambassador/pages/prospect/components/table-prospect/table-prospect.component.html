<div class="d-flex flex-column gap-3">
    <div class="d-flex flex-column text-center">
        <h4 class="m-0 fs-6 fw-medium text-black">Histórico</h4>
        <div class="w-100 line"></div>
        <app-pagination-ng-prime [rows]="rows" [totalRecords]="totalRecords" [rowsPerPageOptions]="[10, 20, 30]"
            [align]="align" (pageChange)="onPageChange($event)" (refresh)="onRefresh($event)">
        </app-pagination-ng-prime>
    </div>
    <app-table class="w-100"
        [headers]="['Fecha de registro','Nombres','Apellidos','Género','Correo Electrónico','Teléfono','Documento','Acciones']"
        [minWidthHeader]="[184, 184, 184, 184, 184, 184, 184, 90]" [hasCheckbox]="false" [customRows]="true"
        [minWidth]="1600" [loading]="isLoading" [hasData]="table.data.length > 0">
        <tr class="w-100 d-flex flex-row align-items-center" *ngFor="let d of table.data; let i = index">
            <th class="table__first__v1 d-flex flex-row justify-content-center align-items-center">
                <label class="form-check-label fw-normal cl-muted m-0 mt-1">{{
                    d.id
                    }}</label>
            </th>
            <td class="fs-6 py-4 px-4 text-center w-100" style="min-width: 184px">
                {{ d.creationDate | arrayDateTime }}
            </td>
            <td class="fs-6 py-4 px-4 text-center w-100" style="min-width: 184px">
                {{ d.name }}
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 184px">
                {{ d.lastName }}
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 180px">
                {{ d.gender }}
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 184px">
                {{ d.email }}
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 184px">
                {{ d.nroPhone }}
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 184px">
                <button pButton icon="pi pi-eye" label="Ver más"
                    class="btn btn-text text-primary d-flex align-items-center" (click)="onView(d.fileName)"></button>
            </td>
            <td class="fs-6 py-4 px-4 w-100 text-center" style="min-width: 184px">
                <button pButton type="button" (click)="edit(d.id)"
                    class="p-button p-component btn btn-outline-secondary p-button-warning text-center button-width">
                    Editar
                </button>
                <button pButton class="p-button p-component btn btn-secondary button-width" type="button"
                    [disabled]="isButtonLoading[d.id]" (click)="deleteProspect(d)">
                    <span *ngIf="!isButtonLoading[d.id]"> Eliminar </span>
                    <div class="d-flex justify-content-center align-items-center" *ngIf="isButtonLoading[d.id]">
                        <p-progressSpinner [style]="{ width: '1.5rem', height: '1rem' }" strokeWidth="8"
                            fill="transparent" animationDuration=".5s"></p-progressSpinner>
                    </div>
                </button>
            </td>
        </tr>
    </app-table>
</div>